/* ============================================================ */

// NAVIGATION

// Description:			Default navigation styles for Global nav
//						elements
// Acknowledgements		Twitter Bootstrap 2

/* ============================================================ */

// ==========================================================================
// GLOBAL
// ==========================================================================

.nav,
.nav ul,
.nav ol {
	margin: 0;
	padding: 0;
	list-style: none;
}

.nav li {
	position: relative;
}

.nav li a {
	display: block;
	width: auto;
	padding: rsize(10px) 20px;
	text-decoration: none;
}

// ==========================================================================
// NAV PRIMARY
// ==========================================================================

.nav-primary {
	@extend .nav;
	@include pie-clearfix;
	overflow: visible;
	background-color: $navbarBackground;

 	
 	li {
		float: left;		
	}

	a {
		text-align: center;
		color: $navbarLinkColor;

		&:hover,
		&:focus {
			color: $navbarLinkColorHover;
		}
	}	
}

// Show submenu on :hover/:focus
.nav-primary li {
	&:hover .sub-menu,
	&:focus .sub-menu {
		left: 0;
	}
}


// STATE: FIXED POSITION
// ==========================================================================

.navbar-fixed {
	@extend .navbar;
	position: fixed;
	top: 0;
	right: 0;
	left: 0;
	z-index: $zindexFixedNavbar;
}


// SUBMENUS
// ==========================================================================

.sub-menu {
	position: absolute;
	top: auto;
	left: -999em;
	z-index: $zindexDropdown;
	text-align: left;
	direction:ltr;
	background-color: $navbarBackground;

	li {
		vertical-align: bottom; /* This fixes the IE5 Win gap (no harm done to modern browsers) */
		white-space: nowrap;
		width: 100%;	/* inherit the width of the parent <ul> */
		clear: both;


		a {
			white-space: nowrap; /* forces drop down to stretch to accommodate length of text (and not wrap) */
			padding: 0.4615384615384615em 20px;
			text-align: left;
		}
	}
}

// ==========================================================================
// RESPONSIVE NAV
// ==========================================================================

/* Styling for the vertical state. This media query uses an arbitrary width of 480px. In real world cases this would be adjusted to a suitable value for the design and the number of options in the menu. */
@media only screen and (max-width:480px) {

	// NO JS
	// ==========================================================================
	
	// If JavaScript is off, all options are displayed 
	.nav-primary {
		overflow:visible;

		li {
			display:block;
			float:none;
		}

		button {
			display: none;
		}

		a {
			text-align: left;

			.caret {
				display: none;
			}
		}

		.sub-menu {
			position:absolute !important;
			clip:rect(1px, 1px, 1px, 1px) !important;
			padding:0 !important;
			border:0 !important;
			height:1px !important;
			width:1px !important;
			overflow:hidden !important;
		}
	}

	
	

	// JS ACITVE
	// ==========================================================================
	
	/// Styling for when the script is active uses the class name added by the script. 
	.nav-menu-narrow {
		position:relative;

		// Style the button (see http://www.456bereastreet.com/archive/201110/styling_button_elements_to_look_like_links/ for details) 
		button {
			position:absolute;
			top:0;
			right:0;
			z-index:10;
			overflow:visible;
			margin:0;
			padding: rsize(10px) 20px;
			border:0;
			border-left:1px solid rgba(255,255,255,0.6);
			color:#fff;
			background:#970601 url(/i/nav-tab.png) repeat-x;
			cursor:pointer;
			font-size: $baseFontSize;
			line-height: $baseLineHeight;

			&:focus {
				outline:1px solid rgba(0,0,0,0.5);
			}

			// Add a graphic to the button to clarify the functionality 
			&:after {
				display:inline-block;
				width:15px;
				height:11px;
				margin-left:6px;
				background:url(expand-contract.png) no-repeat;
				opacity:0.8;
				content:"";
			}

			// Hide some text visually but not from screen readers. See http://yaccessibilityblog.com/library/css-clip-hidden-content.html. 
			span {
				position:absolute;
				clip:rect(1px, 1px, 1px, 1px);
				padding:0;
				border:0;
				height:1px;
				width:1px;
				overflow:hidden;
			}
		}

		// All li:s but the selected one hidden by default 
		li {
			display: none;

		}
	}

	
	// Remove magical padding in Gecko browsers 
	.nav-menu-narrow button::-moz-focus-inner {
		padding:0;
		border:0;
	}

	.nav-menu-narrow.expanded button:after {
		background-position:-100px 0;
	}

	.nav-menu-narrow button:focus:after {
		opacity:1;
	}



	.nav-menu-narrow.expanded li,
	.nav-menu-narrow li.sel {
		display:block;
	}


} /* End max-width:480px */









